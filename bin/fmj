#!/usr/bin/env node

/**
 * Module dependencies.
 */

var fmj = require('../')
  , program = require('commander')
  , fs = require('fs');

// CLI

program
  .version(fmj.version)
  .option('-s, --static', 'generate static site files')
  .option('-i, --input <string>', 'specify input directory')
  .option('-o, --output <string>', 'specify output directory')
  .parse(process.argv);

// Path

var path = program.args.shift() || '.';

program.staticSite = false;
if(program.static) { program.staticSite = true; }

program.inDir = "site"
if(program.input) { program.inDir = program.input; }

program.outDir = "public"
if(program.output) { program.outDir = program.output; }

console.log("hello");
console.log("path is %j", path);
console.log("static is %j", program.staticSite);
console.log("input string is %j", program.inDir);
console.log("output string is %j", program.outDir);
console.log("goodbye");


if(program.staticSite) {
  fmj.staticSite(program.inDir, program.outDir);
} else {
  fmj.liveSite(program.inDir);
}


